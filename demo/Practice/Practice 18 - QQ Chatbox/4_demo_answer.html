<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QQ 聊天</title>
    <style>
        *{
            padding: 0;margin: 0;
            list-style: none;
        }

        #bigDiv{
            width: 100%;
            height: 100%;
            position: absolute;
            top: 50%;
            left: 50%;
        }

        #text{
            width: 250px;
            height: 400px;
            border: 1px solid black;
        }

        .p1{
            width: 100%;
            float: left;
        }

        .p1 img{
            float: right;
        }

        .p1 span{
            float: right;
        }

        .p2{
            width: 100%;
            float: left;
        }

        .p2 img{
            float: left;
        }

        .p2 span{
            float: left;
        }

    </style>
</head>
<body>
    <div id="bigDiv">
        <div id="text"></div>
        <img src="images/p1.png" alt="" id="headImg" width="50" height="50">
        <textarea rows="" cols="" id="te" placeholder="输入框"></textarea>
        <input type="button" name="" id="btn" value="发送">
    </div>

    <!-- JavaScript -->
    <script>
        var imgToggle = true;

        headImg.onclick = function(){
            imgToggle = imgToggle ? false : true;
            imgToggle ? headImg.src = 'images/p1.png':headImg.src = 'images/p2.png';
        }

        btn.onclick = function(){
            var val = te.value;
            var imgSrc = imgToggle? 'images/p1.png':'images/p2.png';
            var oDiv = document.createElement('div');

            oDiv.className = imgToggle?  'p1':'p2';
            oDiv.innerHTML = '<img src=' + imgSrc + ' width=32 height=32><span>' + val + '</span>';

            if(text.children.length == 0){
                text.appendChild(oDiv);
            }
            else{
                text.insertBefore(oDiv,text.children[0]);
            }
            
            te.value = '';
        }
    </script>
</body>
</html>